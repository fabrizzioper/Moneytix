(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{5784:(e,a,t)=>{"use strict";t.d(a,{bq:()=>f,eb:()=>p,gC:()=>h,l6:()=>c,yv:()=>m});var s=t(5155),r=t(2115),l=t(4582),n=t(6474),d=t(7863),o=t(5196),i=t(3999);let c=l.bL;l.YJ;let m=l.WT,f=r.forwardRef((e,a)=>{let{className:t,children:r,...d}=e;return(0,s.jsxs)(l.l9,{ref:a,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...d,children:[r,(0,s.jsx)(l.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=l.l9.displayName;let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.PP,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.wn,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});u.displayName=l.wn.displayName;let h=r.forwardRef((e,a)=>{let{className:t,children:r,position:n="popper",...d}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsxs)(l.UC,{ref:a,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...d,children:[(0,s.jsx)(x,{}),(0,s.jsx)(l.LM,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(u,{})]})})});h.displayName=l.UC.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.JU,{ref:a,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=l.JU.displayName;let p=r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,s.jsxs)(l.q7,{ref:a,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(l.p4,{children:r})]})});p.displayName=l.q7.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.wv,{ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=l.wv.displayName},7480:(e,a,t)=>{Promise.resolve().then(t.bind(t,8323))},8323:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>H});var s=t(5155),r=t(2115),l=t(5695),n=t(6766),d=t(7168),o=t(9852),i=t(3999);let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,i.cn)("w-full caption-bottom text-sm",t),...r})})});c.displayName="Table";let m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("thead",{ref:a,className:(0,i.cn)("[&_tr]:border-b",t),...r})});m.displayName="TableHeader";let f=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tbody",{ref:a,className:(0,i.cn)("[&_tr:last-child]:border-0",t),...r})});f.displayName="TableBody",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tfoot",{ref:a,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tr",{ref:a,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});x.displayName="TableRow";let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("th",{ref:a,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});u.displayName="TableHead";let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("td",{ref:a,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});h.displayName="TableCell",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("caption",{ref:a,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption";var p=t(5784),j=t(5452),b=t(4416);let N=j.bL;j.l9;let g=j.ZL;j.bm;let y=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.hJ,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});y.displayName=j.hJ.displayName;let w=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(g,{children:[(0,s.jsx)(y,{}),(0,s.jsxs)(j.UC,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,s.jsxs)(j.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(b.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});w.displayName=j.UC.displayName;let v=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};v.displayName="DialogHeader";let C=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};C.displayName="DialogFooter";let D=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});D.displayName=j.hE.displayName;let R=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});R.displayName=j.VY.displayName;var z=t(9613);let k=z.Kq,E=z.bL,A=z.l9,S=r.forwardRef((e,a)=>{let{className:t,sideOffset:r=4,...l}=e;return(0,s.jsx)(z.UC,{ref:a,sideOffset:r,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})});S.displayName=z.UC.displayName;var T=t(4503),U=t(6471),P=t(4616),B=t(7924),L=t(1492),V=t(2657),F=t(4357),O=t(2525),$=t(573),_=t(6874),q=t.n(_);let J=[{id:"1",code:"BON-001",creationDate:new Date(2025,4,5),currency:"USD",nominalValue:1e4,term:5},{id:"2",code:"BON-002",creationDate:new Date(2025,4,8),currency:"PEN",nominalValue:5e4,term:3},{id:"3",code:"BON-003",creationDate:new Date(2025,4,10),currency:"EUR",nominalValue:15e3,term:7}];function H(){let e=(0,l.useRouter)(),a=(0,l.usePathname)(),{toast:t}=(0,T.dj)(),[i,j]=(0,r.useState)([]),[b,g]=(0,r.useState)(""),[y,z]=(0,r.useState)("all"),[_,H]=(0,r.useState)("creationDate"),[I,M]=(0,r.useState)("desc"),[Y,Z]=(0,r.useState)(!1),[K,W]=(0,r.useState)(null);(0,r.useEffect)(()=>{j(J)},[]);let G=e=>{_===e?M("asc"===I?"desc":"asc"):(H(e),M("asc"))},Q=i.filter(e=>{let a=e.code.toLowerCase().includes(b.toLowerCase()),t="all"===y||e.currency===y;return a&&t}).sort((e,a)=>"code"===_?"asc"===I?e.code.localeCompare(a.code):a.code.localeCompare(e.code):"asc"===I?e.creationDate.getTime()-a.creationDate.getTime():a.creationDate.getTime()-e.creationDate.getTime()),X=a=>{e.push("/bonds/".concat(a))},ee=a=>{let s="BON-".concat(String(i.length+1).padStart(3,"0")),r={...a,id:String(i.length+1),code:s,creationDate:new Date};j([...i,r]),t({title:"Bono duplicado",description:"Se ha creado una copia como ".concat(s)}),e.push("/bonds/form/new?duplicate=".concat(r.id))},ea=e=>{W(e),Z(!0)},et=(e,a)=>new Intl.NumberFormat("es-PE",{style:"currency",currency:a,minimumFractionDigits:2}).format(e),es=e=>e.toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"});return(0,s.jsxs)("div",{className:"flex h-screen bg-white",children:[(0,s.jsx)($.B,{currentPath:a}),(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:(0,s.jsxs)("div",{className:"flex-1 overflow-auto p-4 md:p-8 md:pt-8 pt-20",children:[(0,s.jsx)(U.l,{}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"Mis Bonos"}),(0,s.jsx)("p",{className:"text-slate-500 mt-1",children:"Selecciona un bono o crea uno nuevo"})]}),(0,s.jsx)(k,{children:(0,s.jsxs)(E,{children:[(0,s.jsx)(A,{asChild:!0,children:(0,s.jsx)(q(),{href:"/bonds/form/new",prefetch:!0,children:(0,s.jsxs)(d.$,{className:"mt-4 md:mt-0 bg-green-500 hover:bg-green-600",children:[(0,s.jsx)(P.A,{className:"mr-2 h-4 w-4"}),"Nuevo bono"]})})}),(0,s.jsx)(S,{children:(0,s.jsx)("p",{children:"Comienza una nueva valoraci\xf3n con el m\xe9todo franc\xe9s"})})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),(0,s.jsx)(o.p,{placeholder:"Buscar por c\xf3digo...",value:b,onChange:e=>g(e.target.value),className:"pl-10"})]}),(0,s.jsxs)(p.l6,{value:y,onValueChange:z,children:[(0,s.jsx)(p.bq,{className:"w-full md:w-[180px]",children:(0,s.jsx)(p.yv,{placeholder:"Filtrar por moneda"})}),(0,s.jsxs)(p.gC,{children:[(0,s.jsx)(p.eb,{value:"all",children:"Todas las monedas"}),(0,s.jsx)(p.eb,{value:"PEN",children:"PEN - Soles"}),(0,s.jsx)(p.eb,{value:"USD",children:"USD - D\xf3lares"}),(0,s.jsx)(p.eb,{value:"EUR",children:"EUR - Euros"})]})]})]}),0===i.length?(0,s.jsxs)("div",{className:"text-center py-16 bg-slate-50 rounded-lg border border-slate-200",children:[(0,s.jsx)("div",{className:"mx-auto w-24 h-24 mb-4 text-slate-300",children:(0,s.jsx)(n.default,{src:"/empty-folder-illustration.png",alt:"No bonds",width:96,height:96})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-slate-700 mb-2",children:"A\xfan no has creado ning\xfan bono"}),(0,s.jsx)("p",{className:"text-slate-500 mb-6",children:"Comienza creando tu primer bono para ver los resultados aqu\xed"}),(0,s.jsxs)(d.$,{onClick:()=>e.push("/bonds/form/new"),className:"bg-green-500 hover:bg-green-600",children:[(0,s.jsx)(P.A,{className:"mr-2 h-4 w-4"}),"Crear mi primer bono"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{children:(0,s.jsxs)(x,{children:[(0,s.jsx)(u,{className:"cursor-pointer",onClick:()=>G("code"),children:(0,s.jsxs)("div",{className:"flex items-center",children:["C\xf3digo","code"===_&&(0,s.jsx)(L.A,{size:16,className:"ml-2"})]})}),(0,s.jsx)(u,{className:"cursor-pointer",onClick:()=>G("creationDate"),children:(0,s.jsxs)("div",{className:"flex items-center",children:["Fecha de creaci\xf3n","creationDate"===_&&(0,s.jsx)(L.A,{size:16,className:"ml-2"})]})}),(0,s.jsx)(u,{children:"Moneda"}),(0,s.jsx)(u,{className:"text-right",children:"Valor nominal"}),(0,s.jsx)(u,{className:"text-center",children:"Plazo (a\xf1os)"}),(0,s.jsx)(u,{className:"text-right",children:"Acciones"})]})}),(0,s.jsx)(f,{children:Q.map(e=>(0,s.jsxs)(x,{children:[(0,s.jsx)(h,{className:"font-medium",children:e.code}),(0,s.jsx)(h,{children:es(e.creationDate)}),(0,s.jsx)(h,{children:e.currency}),(0,s.jsx)(h,{className:"text-right",children:et(e.nominalValue,e.currency)}),(0,s.jsx)(h,{className:"text-center",children:e.term}),(0,s.jsx)(h,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>X(e.id),title:"Abrir",children:(0,s.jsx)(V.A,{size:18,className:"text-slate-600"})}),(0,s.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>ee(e),title:"Duplicar",children:(0,s.jsx)(F.A,{size:18,className:"text-slate-600"})}),(0,s.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>ea(e),title:"Eliminar",children:(0,s.jsx)(O.A,{size:18,className:"text-red-500"})})]})})]},e.id))})]})}),(0,s.jsx)("p",{className:"text-xs text-slate-400 mt-4 text-center",children:"Tus bonos se guardan mientras dure la sesi\xf3n actual"})]}),(0,s.jsx)(N,{open:Y,onOpenChange:Z,children:(0,s.jsxs)(w,{children:[(0,s.jsxs)(v,{children:[(0,s.jsx)(D,{children:"Confirmar eliminaci\xf3n"}),(0,s.jsxs)(R,{children:["\xbfDeseas borrar el bono ",null==K?void 0:K.code,"? Esta acci\xf3n es irreversible."]})]}),(0,s.jsxs)(C,{children:[(0,s.jsx)(d.$,{variant:"outline",onClick:()=>Z(!1),children:"Cancelar"}),(0,s.jsx)(d.$,{variant:"destructive",onClick:()=>{K&&(j(i.filter(e=>e.id!==K.id)),t({title:"Bono eliminado",description:"El bono ".concat(K.code," ha sido eliminado")}),Z(!1),W(null))},children:"Eliminar"})]})]})}),(0,s.jsx)("div",{className:"md:hidden fixed bottom-6 right-6",children:(0,s.jsx)(k,{children:(0,s.jsxs)(E,{children:[(0,s.jsx)(A,{asChild:!0,children:(0,s.jsx)(q(),{href:"/bonds/form/new",prefetch:!0,children:(0,s.jsx)(d.$,{className:"h-14 w-14 rounded-full bg-green-500 hover:bg-green-600 shadow-lg",children:(0,s.jsx)(P.A,{size:24})})})}),(0,s.jsx)(S,{side:"left",children:(0,s.jsx)("p",{children:"Comienza una nueva valoraci\xf3n con el m\xe9todo franc\xe9s"})})]})})})]})})]})}},9852:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(5155),r=t(2115),l=t(3999);let n=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});n.displayName="Input"}},e=>{var a=a=>e(e.s=a);e.O(0,[817,604,451,899,443,813,441,684,358],()=>a(7480)),_N_E=e.O()}]);